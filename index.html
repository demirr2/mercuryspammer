<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mercury Spammer — Token Loader (Local)</title>
<style>
  :root{ --bg:#050008; --neon1:#9b5cff; --neon2:#ff66cc; }
  *{box-sizing:border-box}
  body{ margin:0; min-height:100vh; background:var(--bg); color:#fff; font-family:Inter, "Poppins", system-ui, sans-serif;
         display:flex; align-items:center; justify-content:center; padding:32px; }
  .panel{
    width:980px; max-width:calc(100% - 48px); display:flex; gap:28px; border-radius:14px; padding:20px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.08));
    box-shadow:0 20px 60px rgba(0,0,0,0.6);
  }
  /* left: saturn */
  .left { width:340px; display:flex; flex-direction:column; align-items:center; gap:16px; position:relative; }
  .avatar{ width:220px;height:220px; display:flex;align-items:center;justify-content:center; position:relative; }
  .saturn{ width:180px;height:180px;border-radius:50%;
    background: radial-gradient(circle at 30% 30%, #ff9bff, #5e00a8 70%);
    box-shadow: 0 0 40px #a94eff, 0 0 80px rgba(200,0,255,0.4); animation:spin 10s linear infinite; z-index:2; }
  .ring{ position:absolute; width:260px;height:70px;border-radius:50%;
    background: linear-gradient(90deg,#d37cff,#9b5cff,#ff66cc,#d37cff);
    transform: translateY(-10px) rotateX(70deg); filter:blur(0.6px); animation:ringRotate 6s linear infinite; z-index:1; }
  .saturn-glow{ position:absolute; width:220px;height:220px;border-radius:50%;
    box-shadow:0 0 120px 40px rgba(180,0,255,0.25); animation:pulse 2.5s ease-in-out infinite alternate; z-index:0; }
  @keyframes spin{ from{transform:rotate(0deg)} to{transform:rotate(360deg)} }
  @keyframes ringRotate{ from{transform: translateY(-10px) rotateX(70deg) rotateZ(0deg)} to{transform: translateY(-10px) rotateX(70deg) rotateZ(360deg)} }
  @keyframes pulse{ from{opacity:.7; transform:scale(.95)} to{opacity:1; transform:scale(1.05)} }

  /* right: form & token yönetimi */
  .right{ flex:1; display:flex; flex-direction:column; gap:12px; }
  .header{ display:flex;align-items:center;justify-content:space-between;gap:12px; }
  .title{ font-size:20px;font-weight:800; letter-spacing:0.4px; }
  .form-card{
    padding:14px;border-radius:10px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);
    display:flex;flex-direction:column;gap:10px;
  }
  label{ font-size:13px;color:rgba(255,255,255,0.85); font-weight:700; }
  input[type="text"], textarea {
    width:100%; padding:10px 12px; border-radius:8px;border:1px solid rgba(255,255,255,0.06);
    background:rgba(255,255,255,0.02); color:#eaf6ff; font-family:monospace;
  }
  .controls{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  .btn {
    padding:10px 14px; border-radius:10px; font-weight:800; cursor:pointer; border:none;
    background:linear-gradient(90deg,var(--neon1),var(--neon2)); color:#041017;
    box-shadow:0 6px 20px rgba(155,92,255,0.12);
  }
  .btn.secondary{ background:transparent;color:#fff;border:1px solid rgba(255,255,255,0.06); box-shadow:none }
  .status { font-size:13px;color:rgba(255,255,255,0.8); margin-left:6px; }

  .tokens {
    margin-top:6px; background:rgba(0,0,0,0.12); padding:12px;border-radius:8px; max-height:260px; overflow:auto;
    border:1px solid rgba(255,255,255,0.02);
  }
  .token-row{ display:flex;align-items:center;justify-content:space-between;padding:8px;border-radius:6px; margin-bottom:6px;
    background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); font-family:monospace; font-size:13px;
    word-break:break-all;
  }
  .token-row .leftcol{ display:flex;gap:10px;align-items:center; max-width:78%; }
  .token-row button{ padding:6px 8px; font-size:12px; border-radius:8px; border:none; cursor:pointer; background:rgba(255,255,255,0.04); color:#fff; }

  .muted{ color:rgba(255,255,255,0.5); font-size:13px; }
  .small { font-size:12px;color:rgba(255,255,255,0.6); }

  /* discord fab style fallback */
  .discord-fab {
    position:fixed;
    right:22px;
    bottom:22px;
    width:58px;
    height:58px;
    border-radius:50%;
    background-color:#5865F2;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 8px 30px rgba(88,101,242,0.5);
    transition:transform .2s ease, box-shadow .2s ease;
    border:none;
    z-index:9999;
  }
  .discord-fab:hover{ transform:translateY(-5px) scale(1.05); box-shadow:0 10px 40px rgba(88,101,242,0.7); }
  .discord-fab svg{ width:32px; height:32px; fill:#ffffff; display:block; }

  @media (max-width:920px){ .panel{ flex-direction:column; align-items:center; } .left{ order:2 } }
</style>
</head>
<body>

  <div class="panel" role="application" aria-label="Mercury Spammer Panel - local token loader">
    <div class="left" aria-hidden="false">
      <div class="avatar" aria-hidden="true">
        <div class="ring" aria-hidden="true"></div>
        <div class="saturn" aria-hidden="true"></div>
        <div class="saturn-glow" aria-hidden="true"></div>
      </div>
      <div style="text-align:center">
        <div style="font-size:18px;font-weight:900">KANKA RIG</div>
        <div class="muted">Mor Satürn Modu — Local token loader</div>
      </div>
    </div>

    <div class="right">
      <div class="header">
        <div class="title">Mercury Spammer</div>
        <div class="small muted">Dosyadan token yükleme (sadece local)</div>
      </div>

      <div class="form-card" role="form" aria-label="Mercury form">
        <div>
          <label for="channelId">Channel ID (Discord kanal ID'si)</label>
          <input id="channelId" type="text" placeholder="Örn: 123456789012345678" />
        </div>

        <div>
          <label for="message">Message (gönderilecek mesaj)</label>
          <textarea id="message" rows="4" placeholder="Gönderilecek mesaj..."></textarea>
        </div>

        <div class="controls">
          <!-- gizli file input (DOM'da görünür ama 0 opacity yerine display:none) -->
          <input id="fileInput" type="file" accept=".txt,text/plain" style="display:none" />

          <button id="addTokenBtn" class="btn" type="button" title="Satır satır token içeren .txt dosyası seç">Add Token (Dosya)</button>

          <div class="status" id="status">Yüklenen: <strong id="count">0</strong> token</div>
        </div>

        <div style="display:flex;gap:8px;align-items:center;margin-top:6px">
          <button id="exportBtn" class="btn secondary" type="button">Export (.txt)</button>
          <button id="clearBtn" class="btn secondary" type="button">Clear All</button>
          <div class="small muted">Preview (tam token gösteriliyor)</div>
        </div>

        <div class="tokens" id="tokensBox" aria-live="polite" aria-atomic="true">
          <div class="small muted">Henüz token yok.</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Discord fab (kendi invite linkin) -->
  <a class="discord-fab" href="https://discord.gg/HnJUVFUvCQ" target="_blank" rel="noopener noreferrer" aria-label="Discord'a katıl">
    <svg viewBox="0 0 245 240" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M104.4 104.8c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1zm36.2 0c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"/><path d="M189.5 20h-134C41.5 20 30 31.5 30 45.5v149c0 14 11.5 25.5 25.5 25.5h113.4l-5.3-18.4 12.7 11.8 12 11.1 21.3 19.4V45.5c0-14-11.5-25.5-25.5-25.5zm-38.6 131s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.8 18.1-11.8-4.1 2.7-8 4.5-11.5 5.8-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.3 1.3-25.8-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.2-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.1-26.3 13-26.3 13s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.8 3.9 30.2 9.6 0 0-7.9-7.5-24.9-12.5l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3-.1 0-8.4 14.5-30.4 15.2z"/></svg>
  </a>

<script>
/* STORAGE KEYS */
const STORAGE_KEY = 'mercury_tokens';
const EXPIRY_KEY = 'mercury_tokens_expiry';

/* DOM */
const fileInput = document.getElementById('fileInput');
const addTokenBtn = document.getElementById('addTokenBtn');
const tokensBox = document.getElementById('tokensBox');
const countEl = document.getElementById('count');
const exportBtn = document.getElementById('exportBtn');
const clearBtn = document.getElementById('clearBtn');

/* helpers */
function loadTokens(){
  try { const raw = localStorage.getItem(STORAGE_KEY); return raw ? JSON.parse(raw) : []; }
  catch(e){ return []; }
}
function saveTokens(arr){
  localStorage.setItem(STORAGE_KEY, JSON.stringify(arr));
  localStorage.removeItem(EXPIRY_KEY);
  renderTokens();
}
function clearTokens(){
  localStorage.removeItem(STORAGE_KEY);
  localStorage.removeItem(EXPIRY_KEY);
  renderTokens();
}

/* render tokens (NO MASKING) */
function renderTokens(){
  const tokens = loadTokens();
  countEl.textContent = tokens.length;
  tokensBox.innerHTML = '';
  if(tokens.length === 0){
    tokensBox.innerHTML = '<div class="small muted">Henüz token yok.</div>';
    return;
  }
  const list = document.createElement('div');
  for(let i=0;i<tokens.length;i++){
    const t = tokens[i];
    const row = document.createElement('div');
    row.className = 'token-row';

    const leftcol = document.createElement('div');
    leftcol.className = 'leftcol';

    const idx = document.createElement('div');
    idx.textContent = (i+1)+'.';
    idx.className = 'small muted';

    const tokenText = document.createElement('div');
    tokenText.textContent = t;
    tokenText.title = 'Token tam gösteriliyor';

    leftcol.appendChild(idx);
    leftcol.appendChild(tokenText);

    const removeBtn = document.createElement('button');
    removeBtn.textContent = 'Sil';
    removeBtn.title = 'Bu tokeni sil';
    removeBtn.addEventListener('click',()=>{
      const arr = loadTokens();
      arr.splice(i,1);
      saveTokens(arr);
    });

    row.appendChild(leftcol);
    row.appendChild(removeBtn);
    list.appendChild(row);
  }
  tokensBox.appendChild(list);
}

/* File loading: open dialog on button click */
addTokenBtn.addEventListener('click', () => {
  // ensure fileInput is in DOM and clickable
  fileInput.value = '';
  fileInput.click();
});

fileInput.addEventListener('change', (ev) => {
  const f = ev.target.files && ev.target.files[0];
  if(!f) return;
  if(!f.name.toLowerCase().endsWith('.txt')){
    alert('Lütfen .txt uzantılı dosya seç. Her satır bir token olmalı.');
    fileInput.value = '';
    return;
  }

  const reader = new FileReader();
  reader.onload = function(e){
    const text = e.target.result;
    const lines = text.split(/\r?\n/).map(s=>s.trim()).filter(s=>s.length>0);
    if(lines.length === 0){
      alert('Dosyada okunacak satır yok.');
      fileInput.value = '';
      return;
    }
    // accept any non-empty lines; merge avoiding duplicates
    const existing = loadTokens();
    const merged = existing.concat(lines.filter(x=>!existing.includes(x)));
    saveTokens(merged);
    fileInput.value = '';
    alert(`${lines.length} satır eklendi.`);
  };
  reader.onerror = function(){
    alert('Dosya okunamadı.');
    fileInput.value = '';
  };
  reader.readAsText(f);
});

/* export */
exportBtn.addEventListener('click', ()=>{
  const tokens = loadTokens();
  if(tokens.length===0){ alert('Kaydedilmiş token yok.'); return; }
  const blob = new Blob([tokens.join('\n')], {type:'text/plain;charset=utf-8'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'mercury_tokens.txt';
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
});

/* clear */
clearBtn.addEventListener('click', ()=>{
  if(!confirm('Tüm tokenleri temizlemek istediğine emin misin?')) return;
  clearTokens();
});

/* EXPIRY HANDLING */
// set expiry to now + 5 minutes
function setExpiryInFiveMinutes(){
  const expiry = Date.now() + 5 * 60 * 1000;
  localStorage.setItem(EXPIRY_KEY, String(expiry));
}
// clear expiry when user is present
function clearExpiry(){
  localStorage.removeItem(EXPIRY_KEY);
}

document.addEventListener('visibilitychange', ()=>{
  if(document.hidden) setExpiryInFiveMinutes();
  else clearExpiry();
});
window.addEventListener('beforeunload', ()=> setExpiryInFiveMinutes());

// periodic check: if expiry passed -> clear tokens
function checkExpiry(){
  const expRaw = localStorage.getItem(EXPIRY_KEY);
  if(!expRaw) return;
  const exp = Number(expRaw);
  if(isNaN(exp)){ localStorage.removeItem(EXPIRY_KEY); return; }
  if(Date.now() > exp){
    localStorage.removeItem(STORAGE_KEY);
    localStorage.removeItem(EXPIRY_KEY);
    renderTokens();
    try{ alert('Tokenler otomatik olarak silindi (5 dakika sonra).'); }catch(e){}
  }
}
setInterval(checkExpiry, 15000);
checkExpiry();

/* init */
renderTokens();

/* expose helpers (debug) */
window.Mercury = { loadTokens, saveTokens, clearTokens, checkExpiry };
</script>
</body>
</html>
